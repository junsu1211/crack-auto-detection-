## 종합설계 최종목표

(연구 및 개발하고자 하는 개발 최종 목표 작성)

: 드론으로 건물 외벽을 촬영한 영상 데이터를 분석하여 건물 외벽에 발생한 균열을 탐지하고 위험 수준을 단계별로 분류하여 건물의 노후화를 방지할 수 있는 시스템 개발을 목표로 함.

(최종 목표로 하는 성능 지표)

- 드론 비행 거리 및 속도: 건물의 높이만큼 20분 이내 비행
- 시험 방법: 실외에서 시험 비행을 실시하여 균열을 탐지하고 정확도 80%이상을 목표로

## 개발 범위

- 프레임 캡처 모듈
    - 수신한 영상을 프레임 단위로 캡쳐
- 균열 탐지 모듈
    - 수신한 이미지들에서 오탐과 미탐 구분
    - 프레임 이미지들의 비교를 통해 기준 이미지 선정
    - segmentation를 수행하고 경도, 위도, 고도를 라벨링
- 균열 정도 학습 모듈
    - 프레임 캡처 모듈에서 저장한 학습 데이터를 가져옴
    - 학습 분류기를 사용하여 해당 균열의 정도를 분류

## 개발 내용

- 프레임 캡처 모듈
- 균열 탐지 모듈
    - YOLO v5 알고리즘을 이용해 분류모델을 학습
    - 

## 개발 예상 결과물

- 소프트웨어
    - 이미지/영상 분석 알고리즘을 통해 건물 외벽 영상 데이터를 처리하고 균열을 탐지
    - 머신/딥 러닝 모델을 통해 균열을 식별하고 위험 수준 분류
    - 균열의 위치,크기 그리고 위험 수준을 기록하고 분류하는 DB구축
    - 분류된 데이터들을 시각화하고 리포트 형태로 제공하는 애플리케이션 생성
    
- 결과물의 내용,성능,기능
    - 건물 외벽을 촬영한 영상을 분석하여 균열이 발생한 부분을 탐지
    - 균열 이미지와 날짜, 위도, 경도, 고도 정보와 함께 저장
    - 균열이 발생한 부분의 위험 수준을 분류
    
    ## 개발 방법 및 환경
    
    - OS : Linux
    - DBMS Oracle
    - Web Server Apache-tomcat
    - Server(Back-end) - Python
    - Client(front-end) - Kotlin
    - Github
    
    ## 업무 분담
    
    - 김채운
        - 
    

시나리오

1. 사람이 드론을 조종한다.
2. 드론이 학교 내 한 건물 외벽을 촬영하며 동시에 서버로 전달한다.
3. 서버에서 영상을 수신한다.
    
    3-1. **프레임 캡처 모듈** 
    
    1. 수신한 영상을 프레임 단위로 캡처한다. ( 프레임 단위는 드론의 움직임 속도를 보고 적절하게 조정한다.)
        1. **균열 탐지 모듈** 
            1. 캡처된 프레임 이미지들에서 YOLO 딥러닝 알고리즘 사용하여 ‘균열’ 탐지를 한다.
            2. 균열이 탐지되지 않거나 오탐된 이미지들은 서버 DB에 저장한다.
            3. 별개로, ‘**균열 탐지 모듈**’은 서버DB에서의 균열 탐지 모듈의 이미지를 가져와 학습을 진행하여 성능을 업데이트한다.
    2. 처음으로 ‘균열’ 을 탐지한 프레임 이미지를 기준으로 하여, 기준 이미지와 그 다음 프레임 이미지 간의 유사도를 계산한다.
    3. 만약 유사도가 특정 임계치보다 높다면,  영상의 변화가 미미하므로 기준 프레임을 제외한 나머지 프레임들 삭제. ( 데이터 축소 )
    4. 유사도가  특정 임계치보다 낮다면,  영상의 변화가 유의미하게 생겼단 것이므로 다시 그 프레임 이미지를 기준으로 잡는다.
    5. 이러한 과정을 반복하며 기준이미지가 된 프레임들을 DB에 저장 및 테스트 데이터로 저장.
    
    3-2. **균열 정도 분류  모듈**
    
    1. 프레임 캡처 모듈에서 저장한 테스트 데이터를 가져온다.
    2. 서버에 저장된 ‘서울시 노후 주택 균열 데이터’를 학습한 분류기를 사용한다.
    3. 학습데이터를 분류기를 사용하여 해당 균열의 정도를 분류한다.
        1. 제대로 분류를 하였다면, 균열의 정도를 라벨링하여 DB에 저장한다.
        2. **불량의 경우, 엡 / 웹으로 불량 데이터를 전송한다.** * 3단계 에서의 최종 단계.***** ****
    - 별개로, 서버 DB에서 갱신된 균열정도이미지를 불러와 ‘서울시 노후 주택 균열 데이터’에 DB로부터 가져온 데이터를 추가시켜 분류기를 학습시킨다.
    
     3-0.  **서버 DB ( 순서와 별개 )**
    
    1. 프레임 캡처 모듈 DB
    2. 균열 탐지 모듈 DB
        1. ‘오탐’ 이미지
        2. ‘탐지’ 이미지
    3. 균열 정도 학습 모듈 DB
        1. 우수, 보통, 불량 으로 라벨링이 되어있다.
    

4.  **앱 & 웹페이지 ( 순서와 별개 )**

- 서버DB 로부터 주기적으로 정보를 가져와 업데이트한다.

1. 학교시설관리인은 앱 / 웹을 접속한다.
    1. “보고/Report” 버튼 혹은 페이지를 클릭하여 접속한다.
    2. 앱 / 웹페이지는 서버DB로부터 “불량”에 해당하는 데이터를 불러온다.
        1. 데이터는 (균열 이미지, 촬영 장소, (시간) ) 으로 구성돼있다.
    3. 사용자가 데이터를 확인한다.
